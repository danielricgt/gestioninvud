{"ast":null,"code":"var _jsxFileName = \"/home/jorg/Downloads/REPOSITORIOS UD/proyecto_frontend/gestion_inventarios_frontend-develop/src/pages/Dashboard/dashboard.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Breadcrumb, BreadcrumbItem, Input, Form, FormGroup, Button, Spinner } from 'reactstrap';\nimport { activateAuthLayout } from '../../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getLoggedInUser } from './../../helpers/authUtils';\nimport BienesTable from './../Tables/Bienes';\nimport client from './../../graphql/client';\nimport { GET_BIENES } from './../../graphql/queries';\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Bienes: null,\n      Depedendencias: null,\n      loading: true,\n      user: getLoggedInUser(),\n      updated: false\n    };\n    this.fetchData = this.fetchData.bind(this);\n  }\n\n  componentDidMount() {\n    const idSede = Number(this.state.user.dependencia.sede.id);\n    this.fetchData(idSede);\n    this.setState({\n      modalSwal: true\n    });\n  }\n\n  fetchData(idSede) {\n    client.query({\n      query: GET_BIENES,\n      variables: {\n        idSede\n      },\n      fetchPolicy: 'no-cache'\n    }).then(result => {\n      this.setState({\n        Bienes: result.data.bien,\n        loading: false,\n        Depedendencias: result.data.dependencia\n      });\n    });\n  }\n\n  handlerInput() {}\n\n  render() {\n    const {\n      Bienes,\n      loading,\n      user,\n      Depedendencias\n    } = this.state;\n    const idSede = Number(this.state.user.dependencia.sede.id);\n    const idRol = Number(user.auth.rol.id);\n    const idDependencia = Number(user.dependencia.id);\n    return (\n      /*#__PURE__*/\n      React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Row, {\n        className: \"align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Breadcrumb, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 33\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(BreadcrumbItem, {\n        active: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 37\n        }\n      }, \"Bienvenido al UD Dashboard \", user.nombres)),\n      /*#__PURE__*/\n      React.createElement(\"h4\", {\n        className: \"page-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 33\n        }\n      }, \"CONSULTA DE INVENTARIOS\")))),\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h5\", {\n        className: \"page-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }, \"Busqueda por dependencia\"),\n      /*#__PURE__*/\n      React.createElement(Form, {\n        inline: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(FormGroup, {\n        style: {\n          marginBottom: '15px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Input, {\n        type: \"select\",\n        name: \"idDependencia\",\n        id: \"idDependencia\",\n        value: loading ? \"\" : idDependencia,\n        onChange: this.handlerInput,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 37\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"option\", {\n        disabled: true,\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 41\n        }\n      }, \"Seleccione una Dependencias\"), loading ?\n      /*#__PURE__*/\n      React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 45\n        }\n      }) : Depedendencias.map(({\n        id,\n        dependencia\n      }) =>\n      /*#__PURE__*/\n      React.createElement(\"option\", {\n        value: id,\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 49\n        }\n      }, dependencia))),\n      /*#__PURE__*/\n      React.createElement(Button, {\n        className: \"btn btn-primary\",\n        style: {\n          marginLeft: '8px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 37\n        }\n      }, \"Filtrar\")))),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"4\",\n        className: \"col-md-3 col-md-offset-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h5\", {\n        className: \"page-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 29\n        }\n      }, \"Busqueda por placa\"),\n      /*#__PURE__*/\n      React.createElement(Input, {\n        type: \"text\",\n        name: \"placa\",\n        id: \"placa\",\n        placeholder: \"\\uD83D\\uDD0D Placa\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 29\n        }\n      }))),\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }, loading ?\n      /*#__PURE__*/\n      React.createElement(Spinner, {\n        color: \"info\",\n        style: {\n          width: '3rem',\n          height: '3rem',\n          marginLeft: '45%',\n          margingRight: '45%'\n        },\n        type: \"grow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }\n      }) :\n      /*#__PURE__*/\n      React.createElement(BienesTable, {\n        idRol: idRol,\n        Bienes: Bienes,\n        update: async () => await this.fetchData(idSede),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 29\n        }\n      }))))\n    );\n  }\n\n}\n\nexport default withRouter(connect(null, {\n  activateAuthLayout\n})(Dashboard));","map":{"version":3,"sources":["/home/jorg/Downloads/REPOSITORIOS UD/proyecto_frontend/gestion_inventarios_frontend-develop/src/pages/Dashboard/dashboard.js"],"names":["React","Component","Container","Row","Col","Breadcrumb","BreadcrumbItem","Input","Form","FormGroup","Button","Spinner","activateAuthLayout","withRouter","connect","getLoggedInUser","BienesTable","client","GET_BIENES","Dashboard","constructor","props","state","Bienes","Depedendencias","loading","user","updated","fetchData","bind","componentDidMount","idSede","Number","dependencia","sede","id","setState","modalSwal","query","variables","fetchPolicy","then","result","data","bien","handlerInput","render","idRol","auth","rol","idDependencia","nombres","marginBottom","map","marginLeft","width","height","margingRight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Row, Col, Breadcrumb, BreadcrumbItem, Input, Form, FormGroup, Button, Spinner } from 'reactstrap';\nimport { activateAuthLayout } from '../../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getLoggedInUser } from './../../helpers/authUtils'\nimport BienesTable from './../Tables/Bienes';\nimport client from './../../graphql/client'\nimport { GET_BIENES } from './../../graphql/queries'\n\nclass Dashboard extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            Bienes: null,\n            Depedendencias: null,\n            loading: true,\n            user: getLoggedInUser(),\n            updated: false,\n\n        };\n\n        this.fetchData = this.fetchData.bind(this)\n    }\n\n    componentDidMount() {\n        const idSede = Number(this.state.user.dependencia.sede.id)\n        this.fetchData(idSede)\n        this.setState({ modalSwal: true})\n    }\n\n    fetchData(idSede){\n        client.query({\n            query: GET_BIENES,\n            variables: { idSede },\n            fetchPolicy: 'no-cache'\n        })\n        .then(result => {\n            this.setState({ Bienes: result.data.bien, loading: false, Depedendencias: result.data.dependencia })\n        })\n    }\n\n    handlerInput() {\n\n    }\n\n\n    render() {\n        const { Bienes, loading, user, Depedendencias } = this.state;\n        const idSede = Number(this.state.user.dependencia.sede.id)\n        const idRol = Number(user.auth.rol.id)\n        const idDependencia = Number(user.dependencia.id)\n        \n        return (\n            <React.Fragment>\n                \n                <Container fluid>\n                    <div className=\"page-title-box\">\n                        <Row className=\"align-items-center\">\n                            <Col sm=\"12\">\n                                <Breadcrumb>\n                                    <BreadcrumbItem active>Bienvenido al UD Dashboard {user.nombres}</BreadcrumbItem>\n                                </Breadcrumb>\n                                <h4 className=\"page-title\">CONSULTA DE INVENTARIOS</h4>\n\n                            </Col>\n                        </Row>\n                    </div>\n                    <Row>\n                        <Col sm=\"4\">\n                            <h5 className=\"page-title\">Busqueda por dependencia</h5>\n                            <Form inline>\n                                <FormGroup style={{ marginBottom: '15px' }}>\n                                    <Input type=\"select\" name=\"idDependencia\" id=\"idDependencia\"\n                                        value={loading ? \"\" : idDependencia} onChange={this.handlerInput}>\n                                        <option disabled value=\"\">Seleccione una Dependencias</option>\n                                        {loading ?\n                                            <option></option>\n                                            :\n                                            Depedendencias.map(({ id, dependencia }) =>\n                                                <option value={id} key={id}>{dependencia}</option>\n                                            )}\n                                    </Input>\n                                    <Button className=\"btn btn-primary\" style={{ marginLeft: '8px' }}>Filtrar</Button>\n                                </FormGroup>\n                            </Form>\n                        </Col>\n                        <Col sm=\"4\" className='col-md-3 col-md-offset-4'>\n                            <h5 className=\"page-title\">Busqueda por placa</h5>\n                            <Input type=\"text\" name=\"placa\" id=\"placa\" placeholder=\"&#x1F50D; Placa\" />\n                        </Col>\n                    </Row>\n                    <Row>\n\n                        {loading ?\n                            <Spinner color=\"info\" style={{ width: '3rem', height: '3rem', marginLeft: '45%', margingRight: '45%' }} type=\"grow\" /> :\n                            <BienesTable idRol={idRol} Bienes={Bienes} update={async() => await this.fetchData(idSede)}></BienesTable>\n                        }\n                    </Row>\n                </Container>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withRouter(connect(null, { activateAuthLayout })(Dashboard));"]},"metadata":{},"sourceType":"module"}